React = require 'react'

{ Classes } = require 'shiny'

module.exports = React.createClass
    displayName: 'MarqueeBranding'

    propTypes:
        id: React.PropTypes.string.isRequired

    getDefaultProps: -> {
        id              : 'marquee_logo'
        fill            : '#ffffff'
        logo            : true
        text            : 'Made with'
        title           : 'Marquee: easier, faster, more beautiful web publishing'
        'aria-label'    : 'Made with Marquee'
        link            : 'http://marquee.by'
        utm:
            source   : global.config?.PUBLICATION_SHORT_NAME
            medium   : 'web'
            campaign : 'sdk_site'
            content  : 'MarqueeBranding'
    }

    render: ->
        cx = new Classes('MarqueeBranding', @props.className)
        cx.set('has_logo', @props.include_logo)
        cx.set('has_text', @props.text?.length > 0)

        link = @props.link
        if @props.utm?.source
            params = ['source','medium','campaign','content'].map (p) =>
                "utm_#{ p }=#{ @props[p] }"
            link += "?#{ params.join('&') }"

        <a
            id          = @props.id
            className   = cx
            aria-label  = @props['aria-label']
            href        = @props.link
            title       = @props.title
        >
            {
                if @props.text
                    <span className='_Text'>{ @props.text }</span>
            }
            {
                if @props.logo
                    <svg width='91px' height='23px' viewBox='0 0 91 23' version='1.1' xmlns='http://www.w3.org/2000/svg'>
                        <g className='_Logo' fill=@props.fill>
                            <path id="#{ @props.id }--e2" className='_Letter -letter--e' d='M82.365494,8.91600445 L89.6565719,8.91600445 L89.6565719,11.0586641 L84.8520808,11.0586641 L84.8520808,12.4354897 L87.7951347,12.4354897 L87.7951347,14.4224964 L84.8520808,14.4224964 L84.8520808,15.8639072 L89.721512,15.8639072 L89.721512,18.0068371 L82.365494,18.0068371 L82.365494,8.91600445 L82.365494,8.91600445 Z'></path>
                            <path id="#{ @props.id }--e" className='_Letter -letter--e' d='M73.292497,8.91600445 L80.5835749,8.91600445 L80.5835749,11.0586641 L75.7790838,11.0586641 L75.7790838,12.4354897 L78.7215988,12.4354897 L78.7215988,14.4224964 L75.7790838,14.4224964 L75.7790838,15.8639072 L80.6482455,15.8639072 L80.6482455,18.0068371 L73.292497,18.0068371 L73.292497,8.91600445 L73.292497,8.91600445 Z'></path>
                            <path id="#{ @props.id }--u" className='_Letter -letter--u' d='M62.9695509,14.0199066 L62.9695509,8.91605849 L65.5208084,8.91605849 L65.5208084,13.9680223 C65.5208084,15.2797224 66.1812575,15.9031447 67.1911976,15.9031447 C68.2014072,15.9031447 68.8618563,15.3056646 68.8618563,14.0328777 L68.8618563,8.91605849 L71.4131138,8.91605849 L71.4131138,13.954781 C71.4131138,16.8900274 69.7427246,18.1757853 67.1653293,18.1757853 C64.5884731,18.1757853 62.9695509,16.8640853 62.9695509,14.0199066'></path>
                            <path id="#{ @props.id }--q" className='_Letter -letter--q' d='M56.6519551,15.9615146 C55.2793204,15.9615146 54.3337814,14.8187087 54.3337814,13.5070087 L54.3337814,13.4810665 C54.3337814,12.1690962 55.2537216,11.0522326 56.6260868,11.0522326 C58.0119251,11.0522326 58.9571946,12.1953086 58.9571946,13.5070087 L58.9571946,13.5329508 C58.9571946,14.8446509 58.0377934,15.9615146 56.6519551,15.9615146 L56.6519551,15.9615146 L56.6519551,15.9615146 Z M62.3731527,18.2341552 L60.8272545,15.969081 C61.2707874,15.2518886 61.5213862,14.4087687 61.5213862,13.5070087 L61.5213862,13.4810665 C61.5213862,10.8706375 59.4492305,8.77959196 56.6519551,8.77959196 C53.8546796,8.77959196 51.7569251,10.8965797 51.7569251,13.5070087 L51.7569251,13.5329508 C51.7569251,16.1433799 53.8288114,18.2341552 56.6260868,18.2341552 C57.5293204,18.2341552 58.3587216,18.012566 59.069021,17.6258658 L59.4724042,18.2341552 L62.3731527,18.2341552 L62.3731527,18.2341552 Z'></path>
                            <path id="#{ @props.id }--r" className='_Letter -letter--r' d='M46.844515,13.2795284 C47.699515,13.2795284 48.1912814,12.8639136 48.1912814,12.201578 L48.1912814,12.1756358 C48.1912814,11.461416 47.6733772,11.0976854 46.8315808,11.0976854 L45.1870599,11.0976854 L45.1870599,13.2795284 L46.844515,13.2795284 L46.844515,13.2795284 Z M42.6746048,8.91611254 L46.9614611,8.91611254 C48.3467605,8.91611254 49.3052335,9.2795729 49.9139461,9.902725 C50.4447844,10.4223787 50.7166707,11.1236275 50.7166707,12.0197127 L50.7166707,12.0459251 C50.7166707,13.4354516 49.9786168,14.3574789 48.8517305,14.8382194 L51.0146946,18.0069452 L48.1139461,18.0069452 L46.2880778,15.2535641 L46.2619401,15.2535641 L45.1870599,15.2535641 L45.1870599,18.0069452 L42.6746048,18.0069452 L42.6746048,8.91611254 L42.6746048,8.91611254 Z'></path>
                            <path id="#{ @props.id }--a" className='_Letter -letter--a' d='M37.5473263,14.4224694 L36.5371168,11.8379825 L35.5142425,14.4224694 L37.5473263,14.4224694 L37.5473263,14.4224694 Z M35.3458293,8.85085181 L37.7672066,8.85085181 L41.6266976,18.0068101 L38.9331647,18.0068101 L38.2724461,16.3835339 L34.7759192,16.3835339 L34.1284042,18.0068101 L31.4866078,18.0068101 L35.3458293,8.85085181 L35.3458293,8.85085181 Z'></path>
                            <path id="#{ @props.id }--m" className='_Letter -letter--m' d='M20.8036347,8.91600445 L23.4583653,8.91600445 L25.6210599,12.4354897 L27.7837545,8.91600445 L30.438485,8.91600445 L30.438485,18.0068371 L27.9389641,18.0068371 L27.9389641,12.785979 L25.6210599,16.3446477 L25.5695928,16.3446477 L23.2640838,12.8121914 L23.2640838,18.0068371 L20.8036347,18.0068371 L20.8036347,8.91600445 L20.8036347,8.91600445 Z'></path>
                            <path id="#{ @props.id }--bulb" className='_Bulb' d='M5.86037425,16.7010821 L9.80717066,16.7010821 L9.80986527,16.4662516 C9.80986527,16.0641482 9.82387725,15.5180119 9.88531437,15.186709 C9.99525449,14.6049022 10.1868413,14.1322686 10.5085778,13.6531495 C10.6551647,13.432371 10.8122605,13.2399667 10.9655838,13.0540479 C11.0582784,12.9408212 11.1504341,12.8289457 11.2388174,12.7124762 C11.4053443,12.4925084 11.6936677,12.1204007 11.8106138,11.9706928 L12.1714222,11.5110303 C12.8086976,10.6565607 13.1468713,9.64184424 13.1468713,8.57605416 C13.1468713,7.22949434 12.598518,5.96292282 11.6033982,5.00900828 C10.5969611,4.04293335 9.25450599,3.51192993 7.82636228,3.51192993 C6.39848802,3.51192993 5.05711078,4.04293335 4.0517515,5.00819758 C3.05501497,5.96292282 2.50773952,7.22949434 2.50773952,8.57497324 C2.50773952,9.63806101 2.85076347,10.6571012 3.49989521,11.5212991 C3.55136228,11.5893972 3.60444611,11.6572252 3.65941617,11.7223508 L3.67827844,11.7453204 C3.88172156,12.0012289 4.25007485,12.4679174 4.43276946,12.7113953 C4.52330838,12.8300266 4.61573353,12.9432533 4.70546407,13.0516158 C4.85878743,13.239156 5.01615269,13.4315603 5.16247006,13.6504472 C5.48366766,14.1309174 5.67552395,14.6032808 5.78519461,15.1818448 C5.83881737,15.4720726 5.86549401,15.6850145 5.86549401,16.046313 L5.86037425,16.7010821 L5.86037425,16.7010821 Z M12.3018413,22.6183248 L3.3525,22.6164332 L3.3586976,16.1168432 C3.3586976,15.9974012 3.35411677,15.8279665 3.32016467,15.6425883 C3.26357784,15.3429024 3.17788922,15.197248 3.08142216,15.0513234 C3.00327844,14.9348539 2.89549401,14.8032515 2.77019461,14.6513819 C2.66699102,14.5241032 2.55247006,14.3852046 2.43606287,14.2317135 C2.26010479,13.9995853 1.88797904,13.5280326 1.72738024,13.3245489 C1.64815868,13.2302384 1.57136228,13.1343064 1.49941617,13.0378341 C0.517230539,11.7309982 -0.000134730541,10.1882508 -0.000134730541,8.57497324 C-0.000134730541,6.53635247 0.823338323,4.62474015 2.31857784,3.19143626 C3.7927994,1.77650806 5.75043413,0.996892346 7.82636228,0.996892346 C9.90417665,0.996892346 11.8604641,1.77650806 13.3346856,3.19170649 C14.8307335,4.62474015 15.6533982,6.53635247 15.6533982,8.5755137 C15.654476,10.1947364 15.1427695,11.7328898 14.172979,13.0227011 L14.1616617,13.0386448 L13.7852246,13.5212769 C13.5254641,13.8533905 13.3403443,14.0928149 13.235524,14.2319837 C13.1188473,14.3854748 13.007021,14.5224818 12.9075898,14.6438154 L12.9022006,14.6505712 C12.7755539,14.8048729 12.6677695,14.9367455 12.5896257,15.0542959 C12.4912725,15.1996801 12.4066617,15.3456047 12.3503443,15.6496143 C12.3379491,15.7233872 12.3177395,16.0419893 12.3177395,16.4740883 L12.3177395,16.4824654 L12.2926796,19.215309 L5.85417665,19.215309 L5.85417665,20.0997742 L12.3018413,20.0997742 L12.3018413,22.6183248 L12.3018413,22.6183248 Z'></path>
                        </g>
                    </svg>
            }
        </a>